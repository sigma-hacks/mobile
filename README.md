# Мобильное приложение контролёра и партнёра ЕКЖ Мурманской области

## Требования:

Обязательные функции:

- Чтение Mifare чипа карты ЕКЖ средствами NFC и определение типа льготы, имени и отчества владельца, месяца и года рождения, срока действия льготы
- Сканирование QR кода карты ЕКЖ и определение типа льготы, имени и отчества владельца, месяца и года рождения.
- Ввод данных о транспортном средстве, открытие и закрытие смены, маршруте,
- Работа мобильного приложения в случаях длительного отсутствия или не стабильной интернет-связи
- Фоновое и ручное (по запросу) обновление реестра льготных карт ЕКЖ, контроль актуальности кэшированных реестров
- Защита кэшей реестров хранимых на мобильном устройстве от утечки данных (криптографическое шифрование)

Дополнительные функции:

- Функция «пожаловаться» на случай, если данные полученные по карте неверные или пассажир с ними не согласен
- Сбор статистики, в том числе данные о геопозиции

### [Ссылка на презентацию](https://docs.google.com/presentation/d/1IrDtMUklqFepwJ_hmCoggagY_f-iQ32RZ7J7B5ueZkI/edit#slide=id.g27f586b40ee_0_0)

## Что реализованно
- Считывание информации с карты с помощью NFC и QR сканеров.
- Авторизация контролера с помощью служебной карты.
- Отображение информации о владельце карты.
- Открытие и закрытие смен контролеров, маршрутов следования.
- Мобильное приложение хранит кешированые данные в Защищенном хранилище Android.
- Для защиты данных используется криптографический алгоритм шифрования AES описанный в ГОСТ 34.13 — 2018.
- Реализовано фоновое и ручное обнавление карт EКЖ.
- Добавлена поддержка хранения и доставки запросов о совершаемых контролером действиях при появлении Интернет соединения.

## Сборка приложения

Перед началось запуска/сборки проекта запустите команду:
```
dart run build_runner build --delete-conflicting-outputs
```


Для создание APK-файла запустите следующую команду:
```
flutter build apk 
```
Эта команда создаст один APK-файл для всех ABI, что делает его большим по объёму.

Чтобы создать отдельные APK-файлы, запустите команду:
```
flutter build apk --split-per-abi
```
Эта команда создаст 3 файла:
* app-armeabi-v7a-release.apk
* app-arm64-v8a-release.apk
* app-x86_64-release.apk

## Используемые HTTPS методы
[Методы](https://mocard.ru/docs)

## Разработчики
- Пелагейчева Мария | mobile | [Телеграм](https://t.me/MariyaViktorovna)
- Сазонов Артем | mobile | [Телеграм](https://t.me/Drygan) [LinkedIn](https://www.linkedin.com/in/sazonov-artem/)
- Станислав Стрижков | backend | [Телеграм](https://t.me/ctaciv)
- Даурен Камбаров | frontend | [Телеграм](https://t.me/daurensky)
- Сархан Ибрагимов | backend | [Телеграм](https://t.me/Sarkhan080)


